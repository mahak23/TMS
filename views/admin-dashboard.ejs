<div class="loader-wrapper">
   <div class="preloader" id="loader"></div>
</div>
<div class="page-content">
   <div id="main">
      <header class="nav-container">
            <div class="container-fluid">
               <div class="header">
                  <span onclick="openNav()" id="collapse" class="bars-btn"><i class="fa fa-bars icon"></i></span>
                  <a class="brand" href="javascript:void(0);" title="Website name">Zapbuild HRM</a> 
               </div>
               <ul class="links">
                  <li><a href="javascript:void(0);" title="logout" class="white"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
               </ul>
            </div>
      </header>
      <div class="main-panel" >
         <div class="wrapper">
              <h1 class="page-title">Dashboard</h1>
            <div class="row">
               <div class="col-md-6 col-sm-6">
                  <div class="column">
                     <div class="heading red">
                        <h2>Notifications</h2>
                     </div>
                     <div class="card-content">
                        <ul class="notification">
                         <li><span class="glyphicon glyphicon-hand-right"></span>Test is on monday.</li>
                         <li><span class="glyphicon glyphicon-hand-right"></span>Collect your nametags.</li>
                         <li><span class="glyphicon glyphicon-hand-right"></span>Today is a seminar at 4pm.</li>
                         <li><span class="glyphicon glyphicon-hand-right"></span>Today is a seminar at 4pm.</li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="col-md-6 col-sm-6">
                  <div class="column">
                     <div class="heading yellow">
                        <h2>Departments List</h2>
                     </div>
                     <div class="search-bar ">
                        <form action="">
                          <input type="search"  id="searchicon" class="disp-none">
                          <i class="fa fa-search" onclick="searchBar()" ></i>
                        </form>  
                     </div>
                     <div class="card-content">
                        <ul class="department-names" id="myList">
                           <%departmentt.forEach(result=>{%>
                           <li><a href="javascript:void(0);" title=""><%=result.name%></a></li>
                           <%})%>
                        </ul>
                           <div id="loadMore"><img src="images/more.png" width="15" height="15" title="load more" alt="Double arrow"></div>Â 
                     </div>
                  </div>
               </div>
               <div class="col-md-6 col-sm-6">
                  <div class="column">
                     <div class="heading green">
                        <h2>Announcements</h2>
                     </div>
                     <div class="card-content">
                        <section class="announcement">
                           <%announcements.forEach(result=>{%>
                           <h3 class="announcement-heading"><%+result.announcementTitle%></h3>
                           <p class="announcement-data"><%=result.announcementDescription%></p>
                        </section>
                        <%})%>
                     </div>
                  </div>
               </div>
               <div class="col-md-6 col-sm-6">
                  <div class="column">
                     <div class="heading purple">
                        <h2>Upcoming events</h2>
                     </div>
                     <div class="card-content">
                        <section class="event">
                           <%events.forEach(result=>{%>
                           <h3 class="event-info"><%=result.heading%></h3>
                           <h5><%=result.date%></h5>
                           <%})%>
                        </section>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
   <aside class="sidenav" id="mysidenav">
      <div class="overlay"></div>
      <a href="javascript:void(0)" title="Click to close" class="closebtn" onclick="closeNav()">&times;</a>
      <div class="profile-photo">
         <img src="images/profile.jpeg" width="216" height="233" alt="user's profile pic">
      </div>
      <ul class="items">
         <li><a href="javascript:void(0)" title="Add Announcements">Add Announcements</a></li>
         <li><a href="javascript:void(0)" title="Resolve Queries">Add Mentor</a></li>
         <li><a href="javascript:void(0)" title="Trainees Timelog">Trainee leaves</a></li>
         <li><a href="javascript:void(0)" title="Syllabus">Add Department</a></li>
         <li><a href="javascript:void(0)" title="Add Events">Add Events</a></li>
         <li><a href="javascript:void(0)" title="Add marks">Add Trainee</a></li>
         <li><a href="javascript:void(0)" title="Send Email">Send Notifications</a></li>
      </ul>
   </aside>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery-1.12.4.js"></script>
<script>
$(document).ready(function(){
  $("#searchicon").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myList li").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});

function openNav() {
  if ($(window).width() <= 1200) {
    document.getElementById("mysidenav").style.width = "230px";
    document.getElementById("main").style.marginLeft = "0";
    document.getElementById("collapse").style.display = "none";
  } else {
    document.getElementById("mysidenav").style.width = "230px";
    document.getElementById("main").style.marginLeft = "230px";
    document.getElementById("collapse").style.display = "none";
  }
}
function closeNav() {
  document.getElementById("mysidenav").style.width = "0";
  document.getElementById("main").style.marginLeft = "0";
  document.getElementById("collapse").style.display = "inline-block";
}
function searchBar() {
  var element = document.getElementById("searchicon");
  var cname = element.className;
  if (cname == "disp-none") {
    element.classList.remove("disp-none");
    element.classList.add("disp-block");
  }
  if (cname == "disp-block") {
    element.classList.remove("disp-block");
    element.classList.add("disp-none");
  }
}

   function openNav() {
      if($(window).width() <= 1200)
      {
      document.getElementById("mysidenav").style.width="230px";
      document.getElementById("main").style.marginLeft="0";
      document.getElementById("collapse").style.display ="none";
       }
       else{
       document.getElementById("mysidenav").style.width="230px";
      document.getElementById("main").style.marginLeft="230px";
      document.getElementById("collapse").style.display ="none";  
       }
   }
   function closeNav(){
      document.getElementById("mysidenav").style.width="0";
      document.getElementById("main").style.marginLeft="0";
      document.getElementById("collapse").style.display="inline-block";
   }
   function searchBar(){
      var element = document.getElementById("searchicon");
      var cname = element.className;
      if(cname == "disp-none")
      {
      element.classList.remove("disp-none");
      element.classList.add("disp-block");
      }
      if(cname  == "disp-block")
      {
      element.classList.remove("disp-block");
      element.classList.add("disp-none");
      }  
  }
   
   $(window).on("load",function(){
      $(".loader-wrapper").fadeOut("slow");
   });

   // jquery for loadmore
   $(document).ready(function () {
     var size_li = $("#myList li").size();
   var x = 5;
       size_li = $("#myList li").size();
       x=5;
       $('#myList li:lt('+x+')').show();
       $('#loadMore').click(function () {
           x= (x+3 <= size_li) ? x+3 : size_li;
           $('#myList li:lt('+x+')').show();
       });
   });
   
</script>